<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wh1te.log | 首页 - 我的互联网小屋</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 定义主色调和强调色 */
        :root {
            --tiffany-blue: #00A8A8; /* 主色调：清冷、现代 */
            --text-dark: #333;
        }
        
        /* 1. 设置全屏固定背景 */
        body {
            font-family: 'Inter', 'Noto Sans SC', sans-serif;
            color: var(--text-dark);
            /* 背景图链接：使用相对路径 */
            background-image: url("./audio/bg_high_res.jpg"); 
            background-size: cover;
            background-position: center 40%;
            background-attachment: fixed; /* 固定背景，实现视差效果 */
            min-height: 100vh; 
        }
        
        /* 自定义主色类 */
        .text-tiffany { color: var(--tiffany-blue); }
        .bg-tiffany { background-color: var(--tiffany-blue); }
        .hover\:text-tiffany:hover { color: var(--tiffany-blue); }

        /* 2. 移除 Hero 区背景，使用柔和阴影优化文字可读性 */
        .hero-bg {
            background-image: none;
            position: relative;
            z-index: 1;
        }

        /* 3. 主内容区域布局和圆角优化 */
        main {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2.5rem;
            
            background-color: rgba(255, 255, 255, 0.98);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15); /* 增加阴影柔和度 */
            border-radius: 1.5rem; /* 圆润边角 */
        }
        
        @media (min-width: 1024px) {
            main {
                grid-template-columns: 1fr 3fr; 
                padding: 2.5rem;
            }
        }
        
        /* 公告栏卡片样式 */
        .notice-card {
            border-left: 4px solid var(--tiffany-blue); /* 公告栏回归主色调 */
        }
    </style>
</head>
<body class="antialiased">

    <audio id="background-music" loop muted>
        <source src="./audio/bgm.mp3" type="audio/mp3">
        您的浏览器不支持音频播放。
    </audio>

    <button 
        id="music-toggle-button" 
        onclick="toggleMusic()" 
        class="fixed bottom-6 right-6 bg-tiffany text-white p-3 rounded-full shadow-2xl hover:bg-opacity-80 transition duration-300 z-30"
        title="播放/暂停背景音乐"
    >
        <svg id="music-icon" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M8 5v14l11-7z"/>
        </svg>
    </button>

    <nav class="bg-white/90 shadow-md sticky top-0 z-20"> 
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-16">
            <a href="index.html" class="text-2xl font-light text-tiffany tracking-widest uppercase">
                <span class="font-bold">Wh1te</span>.log
            </a>
            <div class="flex items-center space-x-4">
                <a href="index.html" class="hidden md:inline text-tiffany transition" onclick="saveMusicState(event)">首页</a>
                <a href="article-1.html" class="hidden md:inline text-gray-600 hover:text-tiffany transition" onclick="saveMusicState(event)">最新文章</a>
                <a href="#" class="hidden md:inline text-gray-600 hover:text-tiffany transition">我的项目</a>
            </div>
        </div>
    </nav>

    <header class="hero-bg py-24 relative mb-12"> 
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center p-8 rounded-xl">
            <h1 class="text-6xl font-extrabold text-white mb-4" style="text-shadow: 1px 1px 10px rgba(0, 0, 0, 0.6);">
                Wh1te的互联网小屋
            </h1>
            <p class="text-xl text-white mb-8 font-light" style="text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.8);">
                更新一些我日常和感触
            </p>
            
            <div class="max-w-lg mx-auto">
                <input 
                    type="text" 
                    id="search-input" 
                    placeholder="搜索文章标题、摘要或标签..." 
                    oninput="searchArticles()"
                    class="w-full px-6 py-3 border border-gray-300 rounded-full text-lg shadow-2xl focus:ring-tiffany focus:border-tiffany transition bg-white/80 placeholder-gray-600"
                > 
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 shadow-2xl rounded-2xl">
        
        <div id="notice" class="space-y-6 lg:border-r lg:pr-8 lg:order-1 order-2 py-4 lg:py-0">
            <div class="bg-white p-4 rounded-xl shadow-md notice-card">
                <h3 class="flex items-center font-bold text-xl mb-3 text-tiffany">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-2.236 9.364-5.516l.08.08c.29.29.515.63.67 1.011l.178 1.485A15.002 15.002 0 0118 13" />
                    </svg>
                    博客公告
                </h3>
                <p class="text-sm text-gray-700 space-y-2">
                    <span class="block font-medium text-gray-700">✨ 0-1 挑战更新:</span> 
                    <span class="block">我已成功配置 Python 环境，下一步将专注博客维护脚本开发。</span>
                </p>
                <p class="text-sm text-gray-700 mt-3">
                    <span class="block font-medium text-gray-700">🗓️ 近期计划:</span> 
                    <span class="block">学习使用 Python 校验 HTML 格式，保障网站内容质量。</span>
                </p>
            </div>
            
            <div class="bg-white p-4 rounded-xl shadow-md border-gray-200 border">
                <h3 class="flex items-center font-bold text-lg mb-3 text-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-5 5a2 2 0 01-2.828 0l-7-7A2 2 0 013 8V3a2 2 0 012-2z" />
                    </svg>
                    文章标签
                </h3>
                <div class="flex flex-wrap gap-2">
                    <a href="#" class="text-xs bg-tiffany/20 text-tiffany px-3 py-1 rounded-full hover:bg-tiffany/40 transition">#Python基础</a>
                    <a href="#" class="text-xs bg-gray-200 text-gray-700 px-3 py-1 rounded-full hover:bg-gray-300 transition">#Web开发</a>
                    <a href="#" class="text-xs bg-tiffany/20 text-tiffany px-3 py-1 rounded-full hover:bg-tiffany/40 transition">#自动化</a>
                    <a href="#" class="text-xs bg-gray-200 text-gray-700 px-3 py-1 rounded-full hover:bg-gray-300 transition">#学习反思</a>
                    <a href="#" class="text-xs bg-tiffany/20 text-tiffany px-3 py-1 rounded-full hover:bg-tiffany/40 transition">#Git教程</a>
                </div>
            </div>

            <div class="bg-white p-4 rounded-xl shadow-md border-gray-200 border"> 
                <h3 class="flex items-center font-bold text-lg mb-2 text-gray-700">
                     <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                    </svg>
                    社交链接
                </h3>
                <ul class="text-sm space-y-2 text-tiffany">
                    <li><a href="https://space.bilibili.com/551898501" target="_blank" class="hover:underline">我的 哔哩哔哩</a></li>
                    <li><a href="https://www.douyin.com/user/MS4wLjABAAAAFdOdWTdiTuvMlt0K0C1UvfoYcLWYG5g-aJ8m7kj6QUw?from_tab_name=main" target="_blank" class="hover:underline">我的 抖音</a></li>
                    <li><a href="https://github.com/whte97284-hue/wh1te-blog-project/tree/main" target="_blank" class="hover:underline">我的 GitHub</a></li>
                </ul>
            </div>
        </div>

        <div id="latest" class="lg:order-2 order-1 py-4 lg:py-0">
            <h2 class="text-3xl font-bold text-gray-800 mb-8 border-b pb-4 border-gray-200">最新分享</h2>
            
            <div id="article-list-container">
                
                <div class="article-card bg-white/95 shadow-xl rounded-xl p-6 mb-6 border-l-4 border-tiffany hover:shadow-2xl transition duration-300">
                    <div class="flex flex-wrap gap-2 mb-3 article-tags">
                        <a href="#" class="text-xs bg-tiffany/20 text-tiffany px-2 py-1 rounded-full hover:bg-tiffany/40 transition">#编程之旅</a>
                        <a href="#" class="text-xs bg-tiffany/20 text-tiffany px-2 py-1 rounded-full hover:bg-tiffany/40 transition">#Appium</a>
                        <a href="#" class="text-xs bg-tiffany/20 text-tiffany px-2 py-1 rounded-full hover:bg-tiffany/40 transition">#学习反思</a>
                    </div>
                    <h3 class="text-2xl font-semibold mb-2">
                        <a href="article-1.html" class="hover:text-tiffany transition" onclick="saveMusicState(event)">
                            从 Appium 到网站：我与代码的旅程初探
                        </a>
                    </h3>
                    <p class="text-gray-600 mb-4 article-summary">
                        起初我以为编程就是找个工具抢票，最终却被安全机制所阻止。这次经历让我明白：真正的编程价值在于构建思维框架和创造数字世界。
                    </p>
                    <div class="flex justify-between items-center text-sm text-gray-500">
                        <span>发布于 2025年10月02日</span>
                        <a href="article-1.html" class="text-tiffany font-medium hover:underline" onclick="saveMusicState(event)">阅读全文 &rarr;</a>
                    </div>
                </div>
                
                <div class="article-card bg-white/95 shadow-xl rounded-xl p-6 mb-6 border-l-4 border-tiffany hover:shadow-2xl transition duration-300">
                    <div class="flex flex-wrap gap-2 mb-3 article-tags">
                        <a href="#" class="text-xs bg-tiffany/20 text-tiffany px-2 py-1 rounded-full hover:bg-tiffany/40 transition">#Python基础</a>
                        <a href="#" class="text-xs bg-tiffany/20 text-tiffany px-2 py-1 rounded-full hover:bg-tiffany/40 transition">#Web维护</a>
                    </div>
                    <h3 class="text-2xl font-semibold mb-2">
                        <a href="article-2.html" class="hover:text-tiffany transition" onclick="saveMusicState(event)">
                            Pyhon主页自动生成脚本测试
                        </a>
                    </h3>
                    <p class="text-gray-600 mb-4 article-summary">
                        辅助静态页面更新的自动化生成脚本第一次测试
                    </p>
                    <div class="flex justify-between items-center text-sm text-gray-500">
                        <span>发布于 2025年10月3日</span>
                        <a href="article-2.html" class="text-tiffany font-medium hover:underline" onclick="saveMusicState(event)">阅读全文 &rarr;</a>
                    </div>
                </div>
                
                </div>
        </div>
    </main>

    <footer id="footer" class="bg-gray-900/90 text-white mt-16 rounded-t-2xl">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center text-sm">
            &copy; 2025 Wh1te.log | 我的代码旅程 | <a href="#" class="hover:underline text-tiffany">隐私声明</a>
        </div>
    </footer>

    <script>
        // ----------------------------------------------------
        // --- 1. 音乐播放逻辑 (LocalStorage 跨页面同步) ---
        // ----------------------------------------------------
        document.addEventListener('DOMContentLoaded', () => {
            const music = document.getElementById('background-music');
            const storedState = localStorage.getItem('music_playing');
            
            music.muted = true;

            if (storedState === 'true') {
                music.play().catch(error => {
                    console.error("Muted playback failed on load, waiting for user interaction.", error);
                });
                setMusicIcon(true);
            } else {
                music.pause();
                setMusicIcon(false);
            }
            
            const activateAudio = () => {
                // Play and immediately pause to "activate" the audio element for future programmatic plays.
                music.play().catch(e => console.log('Audio activation failed on initial click.'));
                if (localStorage.getItem('music_playing') !== 'true') {
                    music.pause();
                }
                document.removeEventListener('click', activateAudio, true);
            };
            document.addEventListener('click', activateAudio, true);
        });

        function saveMusicState(event) {
            const music = document.getElementById('background-music');
            const isPlaying = !music.paused;
            localStorage.setItem('music_playing', isPlaying ? 'true' : 'false');
        }

        function toggleMusic() {
            const music = document.getElementById('background-music');
            
            if (music.paused) {
                music.muted = false;
                music.play().catch(error => console.error("Playback prevented:", error));
                setMusicIcon(true);
            } else {
                music.pause();
                setMusicIcon(false);
            }
            // Update localStorage whenever the button is manually toggled
            localStorage.setItem('music_playing', !music.paused ? 'true' : 'false');
        }
        
        function setMusicIcon(isPlaying) {
            const iconContainer = document.getElementById('music-icon');
            if (isPlaying) {
                iconContainer.innerHTML = `<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>`;
            } else {
                iconContainer.innerHTML = `<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"/></svg>`;
            }
        }
        
        // ----------------------------------------------------
        // --- 2. 搜索逻辑 ---
        // ----------------------------------------------------
        function searchArticles() {
            const query = document.getElementById('search-input').value.toLowerCase().trim();
            const cards = document.querySelectorAll('.article-card');

            cards.forEach(card => {
                const title = card.querySelector('h3 a').textContent.toLowerCase();
                const summary = card.querySelector('.article-summary').textContent.toLowerCase();
                const tagsContent = card.querySelector('.article-tags')?.textContent.toLowerCase() || '';
                
                if (title.includes(query) || summary.includes(query) || tagsContent.includes(query)) {
                    card.style.display = ''; 
                } else {
                    card.style.display = 'none'; 
                }
            });
        }
    </script>
</body>
</html>

